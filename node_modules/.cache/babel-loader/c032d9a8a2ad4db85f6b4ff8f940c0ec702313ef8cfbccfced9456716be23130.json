{"ast":null,"code":"import _slicedToArray from\"D:/netflix-gpt/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import Header from'./Header';import{checkValidData}from'../utils/validate';import{createUserWithEmailAndPassword}from\"firebase/auth\";import{signInWithEmailAndPassword}from\"firebase/auth\";import{auth}from'../utils/firebase';// import { onAuthStateChanged } from \"firebase/auth\";\nimport{useDispatch}from'react-redux';import{addUser}from'../utils/userSlice';import{useNavigate}from'react-router-dom';import{updateProfile}from\"firebase/auth\";import{AVATAR}from'../utils/const';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isSigninform=_useState2[0],setSigninForm=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),msg=_useState4[0],setmsg=_useState4[1];var email=useRef(null);var password=useRef(null);var name=useRef(null);var dispatch=useDispatch();var Navigate=useNavigate();var toggleSignInForm=function toggleSignInForm(){setSigninForm(!isSigninform);};var handleButtonClick=function handleButtonClick(){//first of all validate  email and password\nvar msg=checkValidData(email.current.value,password.current.value);setmsg(msg);if(msg){return;}if(!isSigninform){//Sign up logic\ncreateUserWithEmailAndPassword(auth,email.current.value,password.current.value).then(function(userCredential){// Signed in \nvar user=userCredential.user;updateProfile(user,{displayName:name.current.value,photoURL:AVATAR}).then(function(){// Profile updated!\n// ...\nvar _auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,email=_auth$currentUser.email,displayName=_auth$currentUser.displayName,photoURL=_auth$currentUser.photoURL;dispatch(addUser({uid:uid,email:email,displayName:displayName,photoURL:photoURL}));}).catch(function(error){// An error occurred\n// ...\nsetmsg(error.message);});// ...\n}).catch(function(error){var errorCode=error.code;var errorMessage=error.message;setmsg(errorCode+\"-\"+errorMessage);// ..\n});}else{signInWithEmailAndPassword(auth,email.current.value,password.current.value).then(function(userCredential){// Signed in \nvar user=userCredential.user;// ...\n}).catch(function(error){var errorCode=error.code;var errorMessage=error.message;setmsg(errorCode+\"-\"+errorMessage);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute\",children:/*#__PURE__*/_jsx(\"img\",{className:\"h-screen md:h-max object-cover\",src:\"https://assets.nflxext.com/ffe/siteui/vlv3/00103100-5b45-4d4f-af32-342649f1bda5/64774cd8-5c3a-4823-a0bb-1610d6971bd4/IN-en-20230821-popsignuptwoweeks-perspective_alpha_website_medium.jpg\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return e.preventDefault();},className:\"w-full md:w-3/12 absolute p-12 bg-black my-36 mx-auto right-0 left-0 text-white rounded-lg bg-opacity-80\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-3xl py-4\",children:isSigninform?\"Sign In\":\"Sign Up\"}),!isSigninform&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:name,placeholder:\"Full Name\",className:\"my-4 p-2 w-full  bg-gray-800\"}),/*#__PURE__*/_jsx(\"input\",{ref:email,type:\"text\",placeholder:\"Email\",className:\"my-4 p-2 w-full bg-gray-800\"}),/*#__PURE__*/_jsx(\"input\",{ref:password,type:\"password\",placeholder:\"Password\",className:\"my-4 p-2 w-full bg-gray-800\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 font-bold py-2\",children:msg}),/*#__PURE__*/_jsx(\"button\",{className:\"p-4 my-6 bg-red-500 w-full rounded-lg\",onClick:handleButtonClick,children:\"Submit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"py-4 cursor-pointer\",onClick:toggleSignInForm,children:isSigninform?\"New to Netflix?Sign Up Now\":\"Already registered?Sign in\"})]})]});};export default Login;","map":{"version":3,"names":["React","useRef","useState","Header","checkValidData","createUserWithEmailAndPassword","signInWithEmailAndPassword","auth","useDispatch","addUser","useNavigate","updateProfile","AVATAR","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","isSigninform","setSigninForm","_useState3","_useState4","msg","setmsg","email","password","name","dispatch","Navigate","toggleSignInForm","handleButtonClick","current","value","then","userCredential","user","displayName","photoURL","_auth$currentUser","currentUser","uid","catch","error","message","errorCode","code","errorMessage","children","className","src","onSubmit","e","preventDefault","type","ref","placeholder","onClick"],"sources":["D:/netflix-gpt/src/components/Login.js"],"sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport Header from './Header'\r\nimport {  checkValidData } from '../utils/validate';\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport {signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth } from '../utils/firebase';\r\n// import { onAuthStateChanged } from \"firebase/auth\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { addUser, } from '../utils/userSlice';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {  updateProfile } from \"firebase/auth\";\r\nimport { AVATAR } from '../utils/const';\r\n\r\n\r\n\r\nconst Login = () => {\r\n\r\nconst [isSigninform,setSigninForm] = useState(true);\r\nconst [msg,setmsg]= useState(null);\r\nconst email = useRef(null)\r\nconst password  =useRef(null);\r\nconst name = useRef(null)\r\n\r\nconst dispatch = useDispatch()\r\n\r\nconst Navigate = useNavigate()\r\n\r\n\r\n\r\n\r\n\r\n  const toggleSignInForm = () =>{\r\n    setSigninForm(!isSigninform);\r\n\r\n  }\r\n\r\n  const handleButtonClick = () =>{\r\n    //first of all validate  email and password\r\n\r\n    \r\n\r\n    \r\n   const msg = (checkValidData(email.current.value,password.current.value))\r\n   setmsg(msg)\r\n\r\n   if(msg)\r\n   {\r\n    return;\r\n   }\r\n\r\n   if(!isSigninform)\r\n   {\r\n    //Sign up logic\r\n    createUserWithEmailAndPassword(auth,email.current.value,password.current.value)\r\n  .then((userCredential) => {\r\n    // Signed in \r\n    const user = userCredential.user;\r\n    \r\n   \r\n\r\nupdateProfile(user, {\r\n  displayName: name.current.value , photoURL: AVATAR\r\n}).then(() => {\r\n  // Profile updated!\r\n  // ...\r\n\r\n  const {uid,email,displayName,photoURL} = auth.currentUser;\r\n  dispatch(addUser({uid:uid,email:email,displayName:displayName,photoURL:photoURL}))\r\n\r\n\r\n \r\n}).catch((error) => {\r\n  // An error occurred\r\n  // ...\r\n\r\n  setmsg(error.message)\r\n});\r\n    \r\n    // ...\r\n  })\r\n  .catch((error) => {\r\n    const errorCode = error.code;\r\n    const errorMessage = error.message;\r\n    setmsg(errorCode+\"-\"+errorMessage)\r\n    // ..\r\n  });\r\n   \r\n   }\r\n   else{\r\n    signInWithEmailAndPassword(auth,email.current.value,password.current.value)\r\n  .then((userCredential) => {\r\n    // Signed in \r\n    const user = userCredential.user;\r\n   \r\n   \r\n    // ...\r\n  })\r\n  .catch((error) => {\r\n    const errorCode = error.code;\r\n    const errorMessage = error.message;\r\n    setmsg(errorCode+\"-\"+errorMessage)\r\n  });\r\n    \r\n   }\r\n\r\n   \r\n  }\r\n  return (\r\n   \r\n    <div >\r\n      <Header/>\r\n      <div className='absolute'>\r\n      <img className=\"h-screen md:h-max object-cover\" src='https://assets.nflxext.com/ffe/siteui/vlv3/00103100-5b45-4d4f-af32-342649f1bda5/64774cd8-5c3a-4823-a0bb-1610d6971bd4/IN-en-20230821-popsignuptwoweeks-perspective_alpha_website_medium.jpg'/>\r\n      </div>\r\n      <form  \r\n      onSubmit={(e)=>e.preventDefault()} \r\n      className='w-full md:w-3/12 absolute p-12 bg-black my-36 mx-auto right-0 left-0 text-white rounded-lg bg-opacity-80'>\r\n      <h1 \r\n      className='font-bold text-3xl py-4' >\r\n        {isSigninform?\"Sign In\":\"Sign Up\"}\r\n        </h1>\r\n      {\r\n        !isSigninform&& <input type='text' ref={name} placeholder='Full Name' className='my-4 p-2 w-full  bg-gray-800'/>\r\n      }\r\n      <input\r\n       ref={email} \r\n       type='text' \r\n       placeholder='Email'\r\n        className='my-4 p-2 w-full bg-gray-800'/>\r\n      <input\r\n       ref={password}\r\n        type='password'\r\n         placeholder='Password'\r\n          className='my-4 p-2 w-full bg-gray-800'/>\r\n      <p \r\n      className='text-red-500 font-bold py-2'>\r\n        {msg}\r\n        </p>\r\n      <button  \r\n       className='p-4 my-6 bg-red-500 w-full rounded-lg'\r\n        onClick={handleButtonClick} >\r\n          Submit\r\n          </button>\r\n      <p \r\n      className='py-4 cursor-pointer' \r\n       onClick={toggleSignInForm}>\r\n        {isSigninform?\"New to Netflix?Sign Up Now\":\"Already registered?Sign in\"}\r\n        </p>\r\n    </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login"],"mappings":"oGAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAAUC,cAAc,KAAQ,mBAAmB,CACnD,OAASC,8BAA8B,KAAQ,eAAe,CAC9D,OAAQC,0BAA0B,KAAQ,eAAe,CACzD,OAASC,IAAI,KAAQ,mBAAmB,CACxC;AACA,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,OAAO,KAAS,oBAAoB,CAC7C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAAUC,aAAa,KAAQ,eAAe,CAC9C,OAASC,MAAM,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAIxC,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAEpB,IAAAC,SAAA,CAAqChB,QAAQ,CAAC,IAAI,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,YAAY,CAAAF,UAAA,IAACG,aAAa,CAAAH,UAAA,IACjC,IAAAI,UAAA,CAAoBrB,QAAQ,CAAC,IAAI,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3BE,GAAG,CAAAD,UAAA,IAACE,MAAM,CAAAF,UAAA,IACjB,GAAM,CAAAG,KAAK,CAAG1B,MAAM,CAAC,IAAI,CAAC,CAC1B,GAAM,CAAA2B,QAAQ,CAAG3B,MAAM,CAAC,IAAI,CAAC,CAC7B,GAAM,CAAA4B,IAAI,CAAG5B,MAAM,CAAC,IAAI,CAAC,CAEzB,GAAM,CAAA6B,QAAQ,CAAGtB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAuB,QAAQ,CAAGrB,WAAW,CAAC,CAAC,CAM5B,GAAM,CAAAsB,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAQ,CAC5BV,aAAa,CAAC,CAACD,YAAY,CAAC,CAE9B,CAAC,CAED,GAAM,CAAAY,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAQ,CAC7B;AAKD,GAAM,CAAAR,GAAG,CAAIrB,cAAc,CAACuB,KAAK,CAACO,OAAO,CAACC,KAAK,CAACP,QAAQ,CAACM,OAAO,CAACC,KAAK,CAAE,CACxET,MAAM,CAACD,GAAG,CAAC,CAEX,GAAGA,GAAG,CACN,CACC,OACD,CAEA,GAAG,CAACJ,YAAY,CAChB,CACC;AACAhB,8BAA8B,CAACE,IAAI,CAACoB,KAAK,CAACO,OAAO,CAACC,KAAK,CAACP,QAAQ,CAACM,OAAO,CAACC,KAAK,CAAC,CAChFC,IAAI,CAAC,SAACC,cAAc,CAAK,CACxB;AACA,GAAM,CAAAC,IAAI,CAAGD,cAAc,CAACC,IAAI,CAIpC3B,aAAa,CAAC2B,IAAI,CAAE,CAClBC,WAAW,CAAEV,IAAI,CAACK,OAAO,CAACC,KAAK,CAAGK,QAAQ,CAAE5B,MAC9C,CAAC,CAAC,CAACwB,IAAI,CAAC,UAAM,CACZ;AACA;AAEA,IAAAK,iBAAA,CAAyClC,IAAI,CAACmC,WAAW,CAAlDC,GAAG,CAAAF,iBAAA,CAAHE,GAAG,CAAChB,KAAK,CAAAc,iBAAA,CAALd,KAAK,CAACY,WAAW,CAAAE,iBAAA,CAAXF,WAAW,CAACC,QAAQ,CAAAC,iBAAA,CAARD,QAAQ,CACrCV,QAAQ,CAACrB,OAAO,CAAC,CAACkC,GAAG,CAACA,GAAG,CAAChB,KAAK,CAACA,KAAK,CAACY,WAAW,CAACA,WAAW,CAACC,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,CAIpF,CAAC,CAAC,CAACI,KAAK,CAAC,SAACC,KAAK,CAAK,CAClB;AACA;AAEAnB,MAAM,CAACmB,KAAK,CAACC,OAAO,CAAC,CACvB,CAAC,CAAC,CAEE;AACF,CAAC,CAAC,CACDF,KAAK,CAAC,SAACC,KAAK,CAAK,CAChB,GAAM,CAAAE,SAAS,CAAGF,KAAK,CAACG,IAAI,CAC5B,GAAM,CAAAC,YAAY,CAAGJ,KAAK,CAACC,OAAO,CAClCpB,MAAM,CAACqB,SAAS,CAAC,GAAG,CAACE,YAAY,CAAC,CAClC;AACF,CAAC,CAAC,CAED,CAAC,IACG,CACH3C,0BAA0B,CAACC,IAAI,CAACoB,KAAK,CAACO,OAAO,CAACC,KAAK,CAACP,QAAQ,CAACM,OAAO,CAACC,KAAK,CAAC,CAC5EC,IAAI,CAAC,SAACC,cAAc,CAAK,CACxB;AACA,GAAM,CAAAC,IAAI,CAAGD,cAAc,CAACC,IAAI,CAGhC;AACF,CAAC,CAAC,CACDM,KAAK,CAAC,SAACC,KAAK,CAAK,CAChB,GAAM,CAAAE,SAAS,CAAGF,KAAK,CAACG,IAAI,CAC5B,GAAM,CAAAC,YAAY,CAAGJ,KAAK,CAACC,OAAO,CAClCpB,MAAM,CAACqB,SAAS,CAAC,GAAG,CAACE,YAAY,CAAC,CACpC,CAAC,CAAC,CAED,CAGD,CAAC,CACD,mBAEEjC,KAAA,QAAAkC,QAAA,eACEpC,IAAA,CAACX,MAAM,GAAC,CAAC,cACTW,IAAA,QAAKqC,SAAS,CAAC,UAAU,CAAAD,QAAA,cACzBpC,IAAA,QAAKqC,SAAS,CAAC,gCAAgC,CAACC,GAAG,CAAC,4LAA4L,CAAC,CAAC,CAC7O,CAAC,cACNpC,KAAA,SACAqC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAG,CAAAA,CAAC,CAACC,cAAc,CAAC,CAAC,EAAC,CAClCJ,SAAS,CAAC,0GAA0G,CAAAD,QAAA,eACpHpC,IAAA,OACAqC,SAAS,CAAC,yBAAyB,CAAAD,QAAA,CAChC7B,YAAY,CAAC,SAAS,CAAC,SAAS,CAC7B,CAAC,CAEL,CAACA,YAAY,eAAGP,IAAA,UAAO0C,IAAI,CAAC,MAAM,CAACC,GAAG,CAAE5B,IAAK,CAAC6B,WAAW,CAAC,WAAW,CAACP,SAAS,CAAC,8BAA8B,CAAC,CAAC,cAElHrC,IAAA,UACC2C,GAAG,CAAE9B,KAAM,CACX6B,IAAI,CAAC,MAAM,CACXE,WAAW,CAAC,OAAO,CAClBP,SAAS,CAAC,6BAA6B,CAAC,CAAC,cAC3CrC,IAAA,UACC2C,GAAG,CAAE7B,QAAS,CACb4B,IAAI,CAAC,UAAU,CACdE,WAAW,CAAC,UAAU,CACrBP,SAAS,CAAC,6BAA6B,CAAC,CAAC,cAC7CrC,IAAA,MACAqC,SAAS,CAAC,6BAA6B,CAAAD,QAAA,CACpCzB,GAAG,CACD,CAAC,cACNX,IAAA,WACCqC,SAAS,CAAC,uCAAuC,CAChDQ,OAAO,CAAE1B,iBAAkB,CAAAiB,QAAA,CAAE,QAE3B,CAAQ,CAAC,cACbpC,IAAA,MACAqC,SAAS,CAAC,qBAAqB,CAC9BQ,OAAO,CAAE3B,gBAAiB,CAAAkB,QAAA,CACxB7B,YAAY,CAAC,4BAA4B,CAAC,4BAA4B,CACpE,CAAC,EACF,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}